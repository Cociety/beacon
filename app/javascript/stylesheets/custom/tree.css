.tree {
  @apply overflow-auto;
  --color: #000;
  --connector-width: .125em;
  --connector-stye: solid;
  --vertex-length: 1em; /* setting a size in em makes sure that the gap scales too with the scaling factor */
  --scaling-factor: 1;
  font-size: 16px * var(--scaling-factor);
  
  * {
    @apply box-border p-0 m-0;
  }
  ul {
    @apply inline-flex;
  }

  li {
    @apply relative flex flex-col flex-wrap items-center;
    padding: 0 var(--vertex-length);

    ul {
      margin: calc(var(--vertex-length) * 2) 0;
    }
    
    li:before {
      @apply block absolute w-full border-blue-500;
      left: calc(0% - var(--connector-width) / 2);
      top: calc((var(--vertex-length) * -1) - (var(--connector-width) / 2));
      content: '';
      border-top-width: var(--connector-width);
      border-style: var(--connector-stye);
      height: var(--connector-width);
    }
    
    li:first-child:before {
      left: calc(50% - var(--connector-width) / 2);
      max-width: calc(100% - 50% + var(--connector-width));
    }
    li:last-child:before {
      right: calc(50% - var(--connector-width) / 2);
      max-width: calc(100% - 50% + var(--connector-width));
    }
    li:only-child:before { @apply hidden }

    li:only-child > .tree-node:before {
      height: calc(var(--vertex-length) + var(--connector-width));
      top: calc((var(--vertex-length) * -1) - (var(--connector-width) * 2));
    }
  }

  .tree-node {
    @apply relative inline-block border-solid w-24 h-24 bg-gray-200 border-gray-800 rounded-full;
    border-width: var(--connector-width);
    border-color: var(--color);
    padding: calc(var(--vertex-length) / 2) var(--vertex-length);

    &:before {
      @apply absolute block border-blue-500;
      height: var(--vertex-length);
      left: calc(50% - var(--connector-width) / 2);
      top: calc(calc(var(--vertex-length) * -1) - var(--connector-width));
      content: '';
      width: var(--connector-width);
      border-left-width: var(--connector-width);
    }

    &:after {
      @apply absolute block border-blue-500;
      height: var(--vertex-length);
      left: calc(50% - var(--connector-width) / 2);
      top: calc(100% + var(--connector-width));
      content: '';
      width: var(--connector-width);
      border-left-width: var(--connector-width);
    }
    &:only-child:after { @apply hidden }
  }
  
  >ul>li>.tree-node:before { @apply hidden }
}