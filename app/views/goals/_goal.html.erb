<%= content_tag :div, id: dom_id(goal) do %>
  <%= render partial: 'home/context-menu', collection: goal.tree.goals, as: :goal %>
  <%= render partial: 'home/quick-view', collection: goal.tree.goals, as: :goal %>
  <div class="w-full p-2">
    <div class="w-full my-2">
      <span class="text-sm">
        <%= t '.progress', spent: goal.tree.spent, duration: goal.tree.duration %>
      </span>
      <%= render 'components/progress', percent: goal.tree.percent %>
    </div>
    <%= content_tag :div,
      id: 'content',
      class: 'w-full h-full',
      data: { goal: render(partial: 'goals/goal', locals: { goal: goal }, formats: [:json]) } do -%>
      <svg class="tree"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        xmlns="http://www.w3.org/2000/svg"
        version="1.1">
          <g class="links"></g>
          <g class="nodes"></g>
      </svg>
    <%- end -%>
  </div>
<%- end -%>