<% show_view_button ||= false %>
<%= turbo_frame_tag goal do %>
  <div class="bg-white p-2 border-b border-gray-200 w-full flex justify-between">
    <h1 class="text-lg leading-6 font-medium text-gray-900 break-all clamp-4 self-center">
      <%= goal.name %>
    </h1>
    <% if show_view_button %>
      <%= link_to goal_url(goal), class: 'btn btn-secondary flex-grow-0 self-start', data: { 'turbo-frame': '_top' } do %>
        <%= t('.view') %>
      <% end %>
    <% end %>
  </div>
  <div class="p-2 space-y-2">
    <%= render 'goals/progress', goal: goal %>
    <%= render 'goals/state', goal: goal %>
    <%= render 'goals/comments', comments: goal.comments.limit(10).reverse, goal: goal %>
    <div class="flex justify-end">
      <%= render 'goals/delete_form', goal: goal %>
    </div>
  </div>
<% end %>