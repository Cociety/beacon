<%= popover_content_tag goal, class: 'w-96' do %>
  <div class="bg-white p-2 border-b border-gray-200 w-full flex justify-between">
    <h3 class="text-lg leading-6 font-medium text-gray-900 break-all clamp-4 self-center">
      <%= goal.name %>
    </h3>
    <%= link_to goal_url(goal), class: 'btn btn-secondary flex-grow-0 self-start', data: { 'turbo-frame': '_top' } do %>
      <%= t('.view') %>
    <% end %>
  </div>
  <div class="p-2 space-y-2">
    <%= render 'goals/progress', goal: goal %>
    <%= render 'goals/state', goal: goal %>
    <%= render 'goals/comments', comments: goal.comments.limit(3).reverse, goal: goal %>
  <div class="flex justify-end">
    <%= form_with model: goal, method: :delete, class:'' do |f| %>
      <%= f.button type: :submit, class: 'btn sm danger' do %>
        <%= render 'svg/trash', w: 'w-4', h: 'h-4' %>
        <span class="ml-1"><%= t('.delete') %></span>
      <% end %>
    <% end %>
  </div>
</div>
<%- end %>
